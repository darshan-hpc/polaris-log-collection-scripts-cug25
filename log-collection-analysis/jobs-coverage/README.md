## Plotting overall Darshan coverage

These scripts are used to reproduce the overall coverage plot in Figure 2.

First, you need to download the job scheduler datasets from the [ALCF Public Data repository](https://reports.alcf.anl.gov/data/polaris.html). Specifically, the 'ANL-ALCF-DJC-POLARIS_2024...' and 'ANL-ALCF-DJC-POLARIS_2025...' datasets.

**darshan-job-id-extracter.sh**

Next, you need to compile the list of job IDs that Darshan captured logs for. This can be done by running the `darshan-job-id-extracter.sh` script as follows:

`darshan-job-id-extracter.sh <log_collection_directory> > <jobid_file>`

Note that you must pipe the output into a file (`jobid_file`) that is used by subsequent analysis scripts.

**jobs-analyze-all.py**

Next you need to generate the monthly job stats CSVs for all jobs and for Darshan covered jobs using the `jobs-analyze-all.py` script.

`Usage: jobs-analyze-all.py <2024_jobs_csv> <2025_jobs_csv> <darshan_job_ids_file>`

The first 2 arguments are the yearly ALCF job scheduler datasets downloaded above and the third argument is the Darshan job IDs file generated by the `darshan-job-id-extracter.sh` script.

This script will generate 2 CSVs used by the plotting script: all_job_stats.csv and darshan_job_stats.csv.

**plot-all-node-hours.py**

This script can just be executed with no arguments, it does not require any arguments as it looks directly for the CSVs generated by the `jobs-analyze.py` script.

## Plotting Darshan coverage of Polaris projects

These scripts are used to reproduce the monthly per-project coverage plots in Figure 3.

**jobs-analyze-month.py**

The first step is to create the montly CSV files describing all jobs and Darshan covered jobs using the `jobs-analyze-month.py` script.

`Usage: jobs-analyze-month.py <jobs_csv> <month> <darshan_job_ids_file>`

`jobs_csv` is the ALCF job scheduler dataset to be analyzed, `month` is the integer month to be analyzed, and `darshan_job_ids_file` is the file with the list of all Darshan covered job IDs.

This script will generate 2 CSV files that can be passed to the `plot-project-node-hours.py` script.

**plot-project-node-hours.py**

This script will plot the monthly per-project node-hours plot.

`Usage: plot-project-node-hours.py <projects_csv> <projects_darshan_csv>`

The 2 input CSVs are the respective output of the `jobs-analyze-month.py` script.
